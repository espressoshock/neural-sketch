\documentclass{standalone}
\standaloneconfig{border=10mm}

\usepackage{neural-sketch}
\nskUseModule{*}

\begin{document}

\begin{nskFigure}[]
	\nskContainer[
		id=ac,
		border-type=dashdotted,
    text-north=Down,
    text-north-style={nskMidGray},
    text-north-loc=west,
	]{
		\nskBlock[
			id=ab,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=A,
		]
		\nskBlock[
			id=bb,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=B,
			last-pos={right=4cm}
		]
		\nskBlock[
			id=op,
			type=rounded rectangle,
			height=1cm,
			border-radius=0mm,
			text-center=node,
			fill=nskSecondaryAccent,
			pos={below right=1cm and 1.5cm of ab}
		]

		\nskAngledc[dir=down, alpha=60]
		\nskConnect[
			from=ab.south,
			to=op.west,
			arrow-style={ultra thick, {Rays[n=9]}-},
			route={to[out=\o, in=\i]},
			shorten-from=2mm,
		]
		\nskConnect[
			id=cn2,
			from=bb.south,
			to=op.east,
			route={to[out=\oo, in=\ii]},
			arrow-style={ultra thick, stealth-},
			shorten-from=2mm,
		]
	}
	\nskContainer[
		id=acc,
		pos={below=.1cm of ac.south},
		border-type=dashdotted,
    text-north=Up,
    text-north-style={nskMidGray},
    text-north-loc=west,
	]{
		\nskBlock[
			id=ab,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=A,
		]
		\nskBlock[
			id=bb,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=B,
			last-pos={right=4cm}
		]
		\nskBlock[
			id=op,
			type=rounded rectangle,
			height=1cm,
			border-radius=0mm,
			text-center=node,
			fill=nskSecondaryAccent,
			pos={above right=1cm and 1.5cm of ab}
		]

		\nskAngledc[dir=up, alpha=60]
		\nskConnect[
			from=ab.north,
			to=op.west,
			arrow-style={ultra thick, {Rays[n=9]}-},
			route={to[out=\o, in=\i]},
			shorten-from=2mm,
		]
		\nskConnect[
			id=cn2,
			from=bb.north,
			to=op.east,
			route={to[out=\oo, in=\ii]},
			arrow-style={ultra thick, stealth-},
			shorten-from=2mm,
		]
	}

	\nskContainer[
		id=accc,
		pos={below=.2cm of acc.south west},
		shift-x=1cm,
		border-type=dashdotted,
    text-north=Left,
    text-north-style={nskMidGray},
    text-north-loc=west,
	]{
		\nskBlock[
			id=ab,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=A,
		]
		\nskBlock[
			id=bb,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=B,
			last-pos={below=4cm}
		]
		\nskBlock[
			id=op,
			type=rounded rectangle,
			height=1cm,
			border-radius=0mm,
			text-center=node,
			text-center-style={rotate=90},
			fill=nskSecondaryAccent,
			pos={below left=1.5cm and 1.7cm of ab},
			tikz-opts={rotate=90}
		]

		\nskAngledc[dir=left, alpha=25]
		\nskConnect[
			from=ab.west,
			to=op.east,
			arrow-style={ultra thick, {Rays[n=9]}-},
			route={to[out=\o, in=\i]},
			shorten-from=2mm,
		]
		\nskConnect[
			id=cn2,
			from=bb.west,
			to=op.west,
			route={to[out=\oo, in=\ii]},
			arrow-style={ultra thick, stealth-},
			shorten-from=2mm,
		]
	}
	\nskContainer[
		pos={right=.2cm of accc},
		border-type=dashdotted,
    text-north=Right,
    text-north-style={nskMidGray},
    text-north-loc=west,
	]{
		\nskBlock[
			id=ab,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=A,
		]
		\nskBlock[
			id=bb,
			type=rectangle,
			width=1cm, height=1cm,
			text-center=B,
			last-pos={below=4cm}
		]
		\nskBlock[
			id=op,
			type=rounded rectangle,
			height=1cm,
			border-radius=0mm,
			text-center=node,
			text-center-style={rotate=90},
			fill=nskSecondaryAccent,
			pos={below right=2.5cm and 1cm of ab},
			tikz-opts={rotate=90}
		]

		\nskAngledc[dir=right, alpha=25]
		\nskConnect[
			from=ab.east,
			to=op.east,
			arrow-style={ultra thick, {Rays[n=9]}-},
			% route={to[out=\o, in=\i]},
			route={to[out=\o, in=\i]},
			shorten-from=2mm,
		]
		\nskConnect[
			id=cn2,
			from=bb.east,
			to=op.west,
			route={to[out=\oo, in=\ii]},
			arrow-style={ultra thick, stealth-},
			shorten-from=2mm,
		]
	}


\end{nskFigure}
\end{document}
